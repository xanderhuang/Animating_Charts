<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!-- Google Fonts -->
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto Sans TC"> -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fredericka the Great">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Passero+One">

    <title>Animating Charts</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.bundle.min.js"></script>

</head>

<body>

    <div style="height:40vh;background-color:#cbf3f0"></div>
    <div style="height:50vh;">
        <div class="row">
            <div class="col-md-6"></div>
            <div class="col-md-6">
                <div style=""><canvas id="myChart" width="100" height="50"></canvas></div>
            </div>
        </div>
    </div>
    <div style="height:50vh;">
        <div class="row">
            <div class="col-md-6"></div>
            <div class="col-md-6">
                <div style=""><canvas id="myChart2" width="100" height="50"></canvas></div>
            </div>
        </div>

    </div>
    <div style="height:40vh;background-color:#fcf6bd"></div>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script>
        var ctx = document.getElementById("myChart").getContext("2d");
        var chartdata = {
            type: "bar",
            data: {
                labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                datasets: [{
                    label: "# of Votes",
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: [
                        "rgba(255, 99, 132, 0.2)",
                        "rgba(54, 162, 235, 0.2)",
                        "rgba(255, 206, 86, 0.2)",
                        "rgba(75, 192, 192, 0.2)",
                        "rgba(153, 102, 255, 0.2)",
                        "rgba(255, 159, 64, 0.2)"
                    ],
                    borderColor: [
                        "rgba(255,99,132,1)",
                        "rgba(54, 162, 235, 1)",
                        "rgba(255, 206, 86, 1)",
                        "rgba(75, 192, 192, 1)",
                        "rgba(153, 102, 255, 1)",
                        "rgba(255, 159, 64, 1)"
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                },
                indexAxis: "y",
                responsive: true // default true
            }
        };

        var ctx2 = document.getElementById("myChart2").getContext("2d");
        var chartdata2 = {
            type: "line",
            data: {
                labels: ["January", "February", "March", "April", "May", "June", "July"],
                datasets: [{
                    label: "My First Dataset",
                    data: [65, 59, 80, 81, 56, 55, 40],
                    fill: false,
                    borderColor: "rgb(75, 192, 192)",
                    tension: 0.1
                }]
            },
            options: {}
        };

        var inView = false;
        var inView2 = false;
        $(document).ready(function() {
            $(window).scroll(function() {
                var scrolled = $(window).scrollTop();
                var winh = $(window).height();
                var objpos = $("#myChart").offset().top;
                var objpos2 = $("#myChart2").offset().top;
                if (objpos < scrolled + winh * 0.5 && !inView) {
                    new Chart(ctx, chartdata);
                    inView = true;
                    console.log("successful!!");
                }
                if (objpos2 < scrolled + winh * 0.5 && !inView2) {
                    new Chart(ctx2, chartdata2);
                    inView2 = true;
                    console.log("successful!!");
                }
            });
        });
    </script>
</body>

</html>